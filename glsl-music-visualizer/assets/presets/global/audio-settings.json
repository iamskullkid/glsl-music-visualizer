{
  "metadata": {
    "version": "1.0.0",
    "name": "Global Audio Settings",
    "description": "Comprehensive audio analysis configuration for GLSL Music Visualizer",
    "author": "GLSL Music Visualizer Team",
    "created": "2024-01-01T00:00:00Z",
    "lastModified": "2024-01-01T00:00:00Z",
    "compatibility": {
      "minVersion": "1.0.0",
      "maxVersion": "2.0.0",
      "engines": ["AudioEngine", "FFTProcessor", "SpectralAnalyzer", "BeatDetector", "FeatureExtractor"]
    },
    "tags": ["audio", "analysis", "configuration", "global", "default"]
  },

  "audioEngine": {
    "core": {
      "sampleRate": 44100,
      "bufferSize": 4096,
      "latencyHint": "balanced",
      "channels": 2,
      "bitDepth": 16,
      "enableAutoGainControl": true,
      "enableNoiseSuppression": true,
      "enableEchoCancellation": true
    },
    
    "processing": {
      "smoothingTimeConstant": 0.8,
      "maxDecibels": -10,
      "minDecibels": -90,
      "enableCompression": true,
      "compressionThreshold": -24,
      "compressionRatio": 12,
      "compressionAttack": 0.003,
      "compressionRelease": 0.25,
      "enableLimiter": true,
      "limiterThreshold": -3,
      "enableFilter": false,
      "filterType": "highpass",
      "filterFrequency": 20
    },
    
    "microphone": {
      "enabled": false,
      "deviceId": "default",
      "autoConnect": false,
      "gainLevel": 1.0,
      "constraints": {
        "sampleRate": 44100,
        "channelCount": 1,
        "echoCancellation": true,
        "noiseSuppression": true,
        "autoGainControl": true,
        "latency": 0.01
      }
    },
    
    "fileInput": {
      "supportedFormats": ["mp3", "wav", "ogg", "m4a", "flac", "aac"],
      "maxFileSize": 104857600,
      "preloadDuration": 5.0,
      "enableStreaming": true,
      "crossfadeTime": 0.5,
      "normalizeVolume": true,
      "enableGaplessPlayback": false
    }
  },

  "fftProcessor": {
    "core": {
      "fftSize": 4096,
      "hopSize": 1024,
      "windowFunction": "hann",
      "overlapRatio": 0.75,
      "algorithm": "hybrid",
      "zeroPadding": 2,
      "enableSpectralInterpolation": true,
      "enablePhaseAnalysis": true
    },
    
    "performance": {
      "useWebAssembly": false,
      "maxConcurrency": 2,
      "cacheSize": 64,
      "enableCaching": true,
      "parallelProcessing": false,
      "adaptiveQuality": true,
      "targetLatency": 10
    },
    
    "output": {
      "format": "both",
      "frequencyRange": [20, 20000],
      "binResolution": "adaptive",
      "outputSize": 1024,
      "enableNormalization": true,
      "dbRange": [-90, 0],
      "linearScale": true,
      "logScale": true
    },
    
    "frequency": {
      "enableMelScale": true,
      "enableBarkScale": true,
      "enableERBScale": true,
      "enableLogScale": true,
      "melFilterBanks": 128,
      "barkBands": 24,
      "erbBands": 32,
      "customBands": []
    },
    
    "algorithms": {
      "native": {
        "enabled": true,
        "priority": 1,
        "smoothingTimeConstant": 0
      },
      "custom": {
        "enabled": true,
        "priority": 2,
        "radix": 2,
        "enableOptimizations": true
      },
      "hybrid": {
        "enabled": true,
        "priority": 3,
        "switchThreshold": 2048,
        "qualityFactor": 0.8
      }
    }
  },

  "spectralAnalyzer": {
    "mel": {
      "filterBanks": 128,
      "coefficients": 13,
      "minFreq": 80,
      "maxFreq": 8000,
      "enableDeltaCoefficients": true,
      "enableDeltaDeltaCoefficients": false,
      "lifterParameter": 22,
      "preEmphasis": 0.97
    },
    
    "chromagram": {
      "bins": 12,
      "minFreq": 65,
      "maxFreq": 2093,
      "threshold": 0.01,
      "enableHarmonicReduction": true,
      "tuningFrequency": 440,
      "temperament": "equal",
      "octaveNormalization": true
    },
    
    "harmonic": {
      "count": 8,
      "pitchMinFreq": 50,
      "pitchMaxFreq": 2000,
      "confidenceThreshold": 0.3,
      "enableHarmonicMatching": true,
      "enableSubharmonics": false,
      "fundamentalWeight": 1.0,
      "harmonicDecay": 0.8
    },
    
    "spectralContrast": {
      "octaves": 6,
      "alpha": 0.02,
      "enableNeighborhoodLimit": true,
      "contrastBands": [200, 400, 800, 1600, 3200, 6400],
      "percentile": 0.85
    },
    
    "perceptual": {
      "barkBands": 24,
      "erbBands": 32,
      "loudnessModel": "zwicker",
      "enableMasking": true,
      "maskingThreshold": -30,
      "enableTonality": true,
      "tonalityThreshold": 0.5
    },
    
    "temporal": {
      "windowSize": 32,
      "enableMemory": true,
      "memoryDecay": 0.95,
      "enableOnsetDetection": true,
      "onsetSensitivity": 0.3,
      "enableSpectralFlux": true,
      "fluxThreshold": 0.01
    }
  },

  "beatDetector": {
    "core": {
      "sensitivity": 0.5,
      "threshold": 0.15,
      "adaptiveThreshold": true,
      "thresholdDecay": 0.95,
      "minInterval": 50,
      "maxInterval": 2000
    },
    
    "tempo": {
      "bpmRange": [60, 180],
      "smoothing": 0.8,
      "confidenceThreshold": 0.3,
      "enableTempoLock": true,
      "lockThreshold": 0.7,
      "lockDuration": 4000,
      "enableTapTempo": false
    },
    
    "onset": {
      "sensitivity": 0.3,
      "minInterval": 50,
      "spectralFluxThreshold": 0.01,
      "enableComplexDomain": true,
      "enableHighFrequencyContent": true,
      "enablePhaseDeviation": false,
      "enableEnergyBased": true
    },
    
    "rhythm": {
      "enableTracking": true,
      "enableAccentDetection": true,
      "enableSubdivisions": true,
      "patternLength": 16,
      "accentThreshold": 1.5,
      "subdivisionLevels": [2, 3, 4, 6, 8],
      "enableSwing": false,
      "swingRatio": 0.67
    },
    
    "frequencyBands": [
      { "name": "sub-bass", "min": 20, "max": 60, "weight": 0.3 },
      { "name": "bass", "min": 60, "max": 250, "weight": 1.0 },
      { "name": "low-mid", "min": 250, "max": 500, "weight": 0.8 },
      { "name": "mid", "min": 500, "max": 2000, "weight": 0.6 },
      { "name": "high-mid", "min": 2000, "max": 4000, "weight": 0.4 },
      { "name": "presence", "min": 4000, "max": 8000, "weight": 0.3 },
      { "name": "brilliance", "min": 8000, "max": 20000, "weight": 0.2 }
    ],
    
    "algorithms": {
      "weights": {
        "spectralFlux": 0.4,
        "energyBased": 0.3,
        "complexDomain": 0.2,
        "phaseVocoder": 0.1
      },
      "spectralFlux": {
        "enabled": true,
        "threshold": 0.01,
        "rectification": "positive",
        "smoothing": 0.1
      },
      "energyBased": {
        "enabled": true,
        "localEnergyRatio": 1.3,
        "historyLength": 43,
        "varianceMultiplier": 0.5
      },
      "complexDomain": {
        "enabled": true,
        "magnitudeWeight": 0.5,
        "phaseWeight": 0.5,
        "enableUnwrapping": true
      },
      "phaseVocoder": {
        "enabled": false,
        "threshold": 0.5,
        "enableInstantaneousFreq": false
      }
    }
  },

  "featureExtractor": {
    "core": {
      "enableMFCC": true,
      "enableChromagram": true,
      "enableSpectralFeatures": true,
      "enableTemporalFeatures": true,
      "enablePerceptualFeatures": true,
      "updateRate": 60,
      "bufferSize": 1024
    },
    
    "spectralFeatures": {
      "centroid": {
        "enabled": true,
        "smoothing": 0.1,
        "normalization": "rms"
      },
      "spread": {
        "enabled": true,
        "smoothing": 0.1
      },
      "skewness": {
        "enabled": false,
        "smoothing": 0.2
      },
      "kurtosis": {
        "enabled": false,
        "smoothing": 0.2
      },
      "rolloff": {
        "enabled": true,
        "percentile": 0.85,
        "smoothing": 0.1
      },
      "flux": {
        "enabled": true,
        "rectification": "positive",
        "smoothing": 0.05
      },
      "flatness": {
        "enabled": true,
        "smoothing": 0.2,
        "minValue": 1e-10
      },
      "crest": {
        "enabled": true,
        "smoothing": 0.2
      }
    },
    
    "temporalFeatures": {
      "zeroCrossingRate": {
        "enabled": true,
        "frameSize": 1024,
        "smoothing": 0.1
      },
      "rms": {
        "enabled": true,
        "smoothing": 0.1,
        "dbScale": true
      },
      "attackTime": {
        "enabled": true,
        "threshold": 0.1,
        "smoothing": 0.3
      },
      "decayTime": {
        "enabled": false,
        "threshold": 0.1,
        "smoothing": 0.3
      }
    },
    
    "perceptualFeatures": {
      "loudness": {
        "enabled": true,
        "model": "zwicker",
        "smoothing": 0.1,
        "calibration": 1.0
      },
      "sharpness": {
        "enabled": true,
        "smoothing": 0.2
      },
      "roughness": {
        "enabled": false,
        "smoothing": 0.3
      },
      "brightness": {
        "enabled": true,
        "cutoffFreq": 1500,
        "smoothing": 0.1
      },
      "warmth": {
        "enabled": true,
        "centerFreq": 500,
        "bandwidth": 200,
        "smoothing": 0.2
      }
    },
    
    "advanced": {
      "enableGenreClassification": false,
      "enableMoodDetection": false,
      "enableKeyDetection": true,
      "enableInstrumentRecognition": false,
      "enableAudioFingerprinting": false,
      "keyDetection": {
        "algorithm": "krumhansl",
        "profileSet": "temperley",
        "windowSize": 8192,
        "hopSize": 4096
      }
    }
  },

  "performance": {
    "quality": {
      "preset": "high",
      "adaptiveQuality": true,
      "qualityThresholds": {
        "low": { "fps": 30, "memory": 256 },
        "medium": { "fps": 45, "memory": 512 },
        "high": { "fps": 60, "memory": 1024 }
      }
    },
    
    "optimization": {
      "enableWebWorkers": true,
      "maxWorkers": 2,
      "enableSIMD": true,
      "enableGPUAcceleration": false,
      "enableOffscreenCanvas": false,
      "batchProcessing": true,
      "batchSize": 16
    },
    
    "memory": {
      "maxBufferSize": 67108864,
      "enableGarbageCollection": true,
      "gcInterval": 10000,
      "enablePooling": true,
      "poolSizes": {
        "float32Array": 64,
        "audioBuffer": 16,
        "complexArray": 32
      }
    },
    
    "latency": {
      "targetLatency": 10,
      "maxLatency": 50,
      "enableLatencyCompensation": true,
      "bufferAdjustment": "adaptive",
      "predictionEnabled": false
    }
  },

  "calibration": {
    "environmental": {
      "roomCorrection": false,
      "backgroundNoiseLevel": -60,
      "microphoneGain": 1.0,
      "speakerDistance": 1.0,
      "roomSize": "medium"
    },
    
    "userPreferences": {
      "hearingCurve": "normal",
      "ageCompensation": false,
      "userAge": 25,
      "preferredLoudness": 0.7,
      "bassBoost": 0.0,
      "trebleBoost": 0.0
    },
    
    "automatic": {
      "enableAutoCalibration": true,
      "calibrationDuration": 30,
      "analysisInterval": 5000,
      "adaptationRate": 0.1,
      "enableLearning": true,
      "learningRate": 0.01
    }
  },

  "audioReactivity": {
    "global": {
      "enabled": true,
      "sensitivity": 0.7,
      "responsiveness": 0.8,
      "smoothing": 0.1,
      "enableNormalization": true,
      "normalizationTarget": 0.8
    },
    
    "frequencyMapping": {
      "bassRange": [20, 250],
      "midRange": [250, 4000],
      "trebleRange": [4000, 20000],
      "bassWeight": 1.0,
      "midWeight": 0.8,
      "trebleWeight": 0.6,
      "enableCrossover": true,
      "crossoverSlope": 24
    },
    
    "dynamics": {
      "enableCompression": true,
      "compressionRatio": 3.0,
      "threshold": 0.7,
      "attack": 0.1,
      "release": 0.3,
      "enableExpansion": false,
      "expansionRatio": 1.5,
      "gateThreshold": 0.1
    },
    
    "temporal": {
      "enableMemory": true,
      "memoryTime": 2.0,
      "enablePrediction": false,
      "predictionTime": 0.1,
      "enableSmoothing": true,
      "smoothingType": "exponential",
      "smoothingFactor": 0.9
    }
  },

  "presets": {
    "genres": {
      "electronic": {
        "fftSize": 4096,
        "beatSensitivity": 0.8,
        "bassWeight": 1.2,
        "enableSubdivisions": true
      },
      "rock": {
        "fftSize": 2048,
        "beatSensitivity": 0.6,
        "bassWeight": 1.0,
        "enableAccentDetection": true
      },
      "classical": {
        "fftSize": 8192,
        "beatSensitivity": 0.3,
        "enableHarmonic": true,
        "enableDynamics": true
      },
      "jazz": {
        "fftSize": 4096,
        "beatSensitivity": 0.4,
        "enableSwing": true,
        "enableChromagram": true
      },
      "ambient": {
        "fftSize": 8192,
        "beatSensitivity": 0.2,
        "enableSpectralFeatures": true,
        "smoothing": 0.9
      }
    },
    
    "performance": {
      "lowEnd": {
        "fftSize": 1024,
        "updateRate": 30,
        "enableCaching": false,
        "qualityLevel": "low"
      },
      "balanced": {
        "fftSize": 2048,
        "updateRate": 45,
        "enableCaching": true,
        "qualityLevel": "medium"
      },
      "highEnd": {
        "fftSize": 8192,
        "updateRate": 60,
        "enableCaching": true,
        "qualityLevel": "high"
      }
    },
    
    "sources": {
      "microphone": {
        "gainLevel": 1.5,
        "noiseSuppression": true,
        "enableAGC": true,
        "sensitivity": 0.8
      },
      "lineIn": {
        "gainLevel": 1.0,
        "noiseSuppression": false,
        "enableAGC": false,
        "sensitivity": 0.7
      },
      "file": {
        "gainLevel": 1.0,
        "normalization": true,
        "enableAnalysis": true,
        "sensitivity": 0.7
      }
    }
  },

  "experimental": {
    "machineLearning": {
      "enabled": false,
      "modelPath": "assets/models/audio-ml.json",
      "enableTraining": false,
      "trainingDataPath": "assets/training/",
      "inferenceMode": "realtime"
    },
    
    "spatialAudio": {
      "enabled": false,
      "channelCount": 8,
      "enableHRTF": false,
      "enableAmbisonics": false,
      "spatializationModel": "binaural"
    },
    
    "neuralNetworks": {
      "enabled": false,
      "beatTracking": false,
      "genreClassification": false,
      "moodDetection": false,
      "instrumentRecognition": false
    }
  },

  "debugging": {
    "enabled": false,
    "logLevel": "warn",
    "enableProfiler": false,
    "enableMetrics": true,
    "enableVisualization": false,
    "dumpBuffers": false,
    "outputPath": "debug/audio/",
    "enableAssertions": false
  }
}